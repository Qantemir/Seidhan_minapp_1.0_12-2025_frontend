# Переменные окружения

## Обязательные переменные (для production)

### `VITE_API_URL`
**Описание:** URL бэкенда API  
**Тип:** Строка  
**Обязательно:** Да (для production)  
**Значение по умолчанию:** `/api` (относительный путь, для локальной разработки)  

**Как получить ссылку с бэкенда (Railway):**
1. Откройте Railway dashboard
2. Выберите ваш проект и окружение (production)
3. Выберите сервис **backend** в левой панели
4. Перейдите на вкладку **Settings**
5. В разделе **Public Networking** найдите публичный домен
6. Скопируйте URL (например: `dimaminiapp20-11-25-backend-production.up.railway.app`)
7. Добавьте `/api` в конец: `https://dimaminiapp20-11-25-backend-production.up.railway.app/api`

**Примеры:**
```env
# Для production (Railway)
VITE_API_URL=https://dimaminiapp20-11-25-backend-production.up.railway.app/api

# Для локальной разработки (если бэкенд на том же домене)
VITE_API_URL=/api

# Или если бэкенд на другом порту локально
VITE_API_URL=http://localhost:8000/api
```

**Важно:** 
- В production обязательно должен быть абсолютный URL с протоколом `https://`
- В Vite переменные `VITE_*` инжектируются во время сборки
- Переменная должна быть установлена ДО сборки приложения
- URL должен заканчиваться на `/api`

---

## Опциональные переменные

### `VITE_ADMIN_IDS`
**Описание:** ID администраторов Telegram через запятую  
**Тип:** Строка (числа через запятую)  
**Обязательно:** Нет (но рекомендуется для production)  
**Значение по умолчанию:** `''` (пустая строка, массив будет пустым)  
**Пример:**
```env
VITE_ADMIN_IDS=123456789,987654321,555666777
```

**Важно:**
- Должен совпадать с `ADMIN_IDS` в `Backend/app/config.py`
- Без этой переменной автоматический редирект админов на `/admin` не будет работать
- ID можно получить из `initDataUnsafe.user.id` в Telegram WebApp

---

## Пример .env файла

### Для локальной разработки:
```env
# Бэкенд на том же домене (через прокси)
VITE_API_URL=/api

# Или бэкенд на другом порту
# VITE_API_URL=http://localhost:8000/api

# ID администраторов (замените на свои)
VITE_ADMIN_IDS=123456789,987654321
```

### Для production (Railway):
```env
# Обязательно: URL бэкенда (скопируйте из Railway → backend → Settings → Public Networking)
VITE_API_URL=https://dimaminiapp20-11-25-backend-production.up.railway.app/api

# Рекомендуется: ID администраторов
VITE_ADMIN_IDS=123456789,987654321
```

---

## Важные замечания

1. **Vite инжектирует переменные во время сборки**
   - Переменные `VITE_*` заменяются на их значения во время `yarn build`
   - Изменение переменных после сборки не повлияет на приложение
   - Нужно пересобрать приложение после изменения переменных

2. **Для Railway:**
   - Установите переменные в настройках проекта (Variables)
   - Переменные автоматически передаются как build args в Dockerfile
   - После изменения переменных нужно пересобрать проект

3. **Безопасность:**
   - Все переменные `VITE_*` доступны в клиентском коде
   - Не храните секретные данные (API ключи, токены) в `VITE_*` переменных
   - Используйте их только для публичных конфигураций

4. **Значения по умолчанию:**
   - Проект может собираться без .env файла
   - Все переменные имеют значения по умолчанию
   - Для production рекомендуется установить все переменные

5. **SEO и мета-теги:**
   - URL для SEO генерируется автоматически из `window.location.origin`
   - Не требуется отдельная переменная для публичного URL
